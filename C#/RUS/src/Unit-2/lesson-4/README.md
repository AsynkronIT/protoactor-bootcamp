# Урок 4: Виды отправки сообщений.

В Proto.Actor есть несколько способов для отправки сообщений. 

Первый способ это использовать метод Tell. Данный метод используется, когда один актор, хочет отправить сообщение другому актору и, не дожидаясь ответа от него, продолжить свою работу. 

В противовес методу Tell, Proto.Actor предоставляет метод Ask. Данный метод, после отправки сообщения, приостанавливает выполнения текущего актора до получения ответа.

И наконец, третий метод, это метод Forward. Данный метод применяется, когда необходимо переслать полученное сообщение другому актору. Данный метод обычно применяется, когда необходимо рассылать корневые сообщения в системе.

Итак, давайте посмотрим, каковы основные отличия между методами Tell и Ask.

- Как мы уже упоминали ранее. Метод Tell используется, когда один актор, хочет отправить сообщение другому актору и, не дожидаясь ответа, продолжить свою работу.
- И наоборот, метод Ask будет отправлять сообщение целевому актору, а затем ожидать ответного сообщения.

Таким образом, главное отличие этих метод, заключается в том, что метод Tell не ожидает ответа, а метод Ask ожидает. Метод Tell можно рассматривать как fire and forget. Мы просто отправим сообщение и больше не будем об этом беспокоиться. В то время как метод Ask, ожидает ответа от целевого актора.

Когда мы используем метод Tell, актор не как не блокируется, к примеру, актор будет заблокирован во время ожидания ответа от другого актора, так как никакого ответа не ожидается, соответственно никакой блокировки не происходит. 

И хотя метод Ask также не блокируется и работает асинхронно, он может использовать тайм-аут для определения того, что удалённый актор не отвечает на запросы. Соответственно если после истечения заданного интервала времени, целевой актор, не ответит, на запрос мы получим исключение.

В целом, метод Tell предлагает лучшее масштабирование и параллельность в системе акторов, потому что мы просто отправляем сообщение и забываем про него, без задействования каких либо дополнительных накладных расходов. 

В свою очередь метод Ask имеет худшую способность к масштабированию и параллелизму, чем метод Tell.

Это обусловливается тем, что за кулисами, Proto.Actor должен создавать специальные классы которые будут отслеживать получения ответа в будущем, а так же Proto.Actor должен следить за значением тайм-аута. Всё это дополнительные накладные расходы, которых нет у метода Tell. 

Использование метода Tell также может помочь при создании более слабо связанных систем, в то время как при использовании метода Ask, мы связываем отправителя и получателя в двунаправленную связь, что делает нашу систему более уязвимой.

Поэтому именно метод Tell будет использоваться большую часть времени во всей системе. А метод Ask используется только тогда, когда это абсолютно необходимо для разработки системы.